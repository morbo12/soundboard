{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Usage API: GET /api/usage/me Response",
    "type": "object",
    "required": [
        "success",
        "month",
        "resetsAt",
        "usage",
        "limits",
        "remaining"
    ],
    "properties": {
        "success": {
            "type": "boolean"
        },
        "month": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}$",
            "description": "current month in YYYY-MM format"
        },
        "resetsAt": {
            "type": "string",
            "format": "date-time",
            "description": "ISO time when month resets"
        },
        "usage": {
            "type": "object",
            "required": [
                "ttsRequests",
                "aiRequests",
                "audioMinutes",
                "aiTokens"
            ],
            "properties": {
                "ttsRequests": {
                    "type": "integer",
                    "minimum": 0
                },
                "aiRequests": {
                    "type": "integer",
                    "minimum": 0
                },
                "audioMinutes": {
                    "type": "number",
                    "minimum": 0,
                    "description": "Total audio minutes used (decimal allowed)"
                },
                "aiTokens": {
                    "type": "integer",
                    "minimum": 0
                }
            }
        },
        "limits": {
            "type": "object",
            "properties": {
                "ttsRequestsPerMonth": {
                    "type": [
                        "integer",
                        "null"
                    ],
                    "minimum": 0
                },
                "aiRequestsPerMonth": {
                    "type": [
                        "integer",
                        "null"
                    ],
                    "minimum": 0
                },
                "audioMinutesPerMonth": {
                    "type": [
                        "number",
                        "null"
                    ],
                    "minimum": 0
                }
            },
            "additionalProperties": false
        },
        "remaining": {
            "type": "object",
            "required": [
                "ttsRequests",
                "aiRequests",
                "audioMinutes"
            ],
            "properties": {
                "ttsRequests": {
                    "type": [
                        "integer",
                        "null"
                    ],
                    "minimum": 0
                },
                "aiRequests": {
                    "type": [
                        "integer",
                        "null"
                    ],
                    "minimum": 0
                },
                "audioMinutes": {
                    "type": [
                        "number",
                        "null"
                    ],
                    "minimum": 0
                }
            }
        }
    }
}